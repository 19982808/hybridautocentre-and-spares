<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hybrid Garage & Spares Shop</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
/* ================= GLOBAL STYLES ================= */
* { box-sizing: border-box; margin:0; padding:0; font-family:Poppins, Arial, sans-serif; }
body { background:#f5f5f5; color:#000; font-weight:bold; }
.hidden { display:none !important; }
.hidden-section { display:none; }
a { text-decoration:none; color:inherit; }

/* ================= HEADER / NAVBAR ================= */
.site-header { display:flex; justify-content:space-between; align-items:center; background:#4888C4; color:#fff; padding:15px 20px; position:sticky; top:0; z-index:1000; }
nav a, nav button { color:#fff; background:none; border:none; margin-left:15px; cursor:pointer; font-weight:bold; }
nav a.active { color:#FFD700; border-bottom:2px solid #fff; }
.logo-container { display:flex; align-items:center; }
.logo { height:120px; display:block; margin-right:10px; }

/* MOBILE */
.menu-toggle { display:none; font-size:22px; color:#fff; background:none; border:none; }
@media(max-width:768px) {
    nav { display:none; flex-direction:column; background:#222; position:absolute; top:100%; left:0; right:0; }
    nav.open { display:flex; }
    .menu-toggle { display:block; }
    nav a, nav button { padding:15px; border-top:1px solid #333; }
}

/* ================= HERO ================= */
.hero { height:400px; position:relative; display:flex; align-items:center; justify-content:center; color:#fff; text-align:center; overflow:hidden; z-index:1; }
.slideshow, .slide { position:absolute; inset:0; }
.slide { background-size:cover; height:400px; background-position:center; opacity:0; transition:opacity 0.2s; }
.slide.active { opacity:1; }
.hero-content { position:relative; z-index:2; }

/* ================= SECTIONS ================= */
section { padding:40px 20px; max-width:1200px; margin:auto; background:#111; color:#fff; font-weight:bold; }

/* ================= ABOUT ================= */
#about p { margin:10px 0; }

/* ================= OUR SERVICES ================= */
.service-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:20px; }
.service { background:#fff; padding:15px; border-radius:8px; text-align:center; box-shadow:0 4px 8px rgba(0,0,0,.1); color:#000; }
.service h3, .service p { color:#000; }
.service i { font-size:50px; color:#0077cc; margin-bottom:10px; }

/* ================= PRODUCTS ================= */
.product-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:20px; }
.product { background:#fff; padding:15px; border-radius:8px; text-align:center; box-shadow:0 4px 8px rgba(0,0,0,.1); color:#000; }
.product h3, .product p, .product span { color:#000; }
.product img { width:100%; height:150px; object-fit:cover; border-radius:5px; margin-bottom:10px; }
.product-icon { font-size:50px; color:#0077cc; margin-bottom:10px; }

/* ================= BUTTON ================= */
.cta-btn { padding:10px 20px; background:#0077cc; color:#fff; border:none; border-radius:5px; cursor:pointer; margin-top:5px; }
.cta-btn:hover { background:#005fa3; }

/* ================= CART ================= */
#cart-count { background:red; padding:2px 6px; border-radius:50%; font-size:12px; }

/* ================= MODAL ================= */
.modal { position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; }
.modal-content { background:#fff; padding:20px; width:90%; max-width:600px; border-radius:8px; max-height:90vh; overflow:auto; }
.close { float:right; font-size:24px; cursor:pointer; }

/* ================= FOOTER ================= */
footer { text-align:center; padding:20px; background:#222; color:#4888C4; }
</style>
</head>
<body>

<!-- ================= HEADER / NAV ================= -->
<header class="site-header">
  <div class="logo-container">
    <img src="images/logo.png" class="logo" alt="Hybrid Garage Logo">
    <h2>HYBRID GARAGE & SPARES</h2>
  </div>
  <button class="menu-toggle" id="menuToggle"><i class="fa fa-bars"></i></button>
  <nav>
      <a href="#home" class="nav-link">Home</a>
      <a href="#about" class="nav-link">About</a>
      <a href="#services" class="nav-link">Our Services</a>
      <a href="#products" class="nav-link">Products</a>
      <a href="#cart" class="nav-link">Cart (<span id="cart-count">0</span>)</a>
      <a href="#payment" class="nav-link">Payment</a>
      <a href="#location" class="nav-link">Location</a>
      <a href="#contact" class="nav-link">Contact</a>
      <a href="#our-links" class="nav-link">Our Links</a>
      <button id="adminLoginBtn">Admin</button>
  </nav>
</header>

<!-- ================= HERO ================= -->
<section class="hero" id="home">
  <div class="slideshow">
    <div class="slide active" style="background-image:url('images/hero1.png')"></div>
    <div class="slide" style="background-image:url('images/hero2.png')"></div>
    <div class="slide" style="background-image:url('images/hero3.png')"></div>
    <div class="slide" style="background-image:url('images/hero4.png')"></div>
  </div>
  <div class="hero-content">
    <h1>Hybrid Garage & Spares</h1>
    <p>Quality • Batteries • Modules • Repairs</p>
    <button class="cta-btn" id="shopNowBtn">Shop Now</button>
  </div>
</section>

<!-- ================= ABOUT ================= -->
<section id="about" class="page hidden-section">
  <h2>About Us</h2>
  <p>Hybrid Garage & Spares is your one-stop shop for hybrid vehicle parts and expert repair services. We combine advanced diagnostics with top-quality spares for maximum performance.</p>
</section>

<!-- ================= OUR SERVICES ================= -->
<section id="services" class="page hidden-section">
  <h2>Our Services</h2>
  <div id="services-list" class="service-grid">
    <!-- Services will load here dynamically from services.json -->
  </div>
</section>

<!-- ================= PRODUCTS ================= -->
<section id="products" class="page hidden-section">
  <h2>Our Products</h2>
  <div id="product-list" class="product-grid">
    <!-- Products will load dynamically from products.json -->
  </div>
</section>

<!-- ================= CART ================= -->
<section id="cart" class="page hidden-section">
<h2>Your Cart</h2>
<div id="cart-items"></div>
<h3 id="cart-total">Total: 0</h3>
<div class="cart-actions">
    <button class="cta-btn" id="checkoutPaybill">Checkout via Paybill</button>
</div>
<div id="paybill-info" class="hidden-section">
<h4>Pay via M-Pesa Paybill</h4>
<ul>
<li>Paybill Number: <strong>222111</strong></li>
<li>Account Number: <strong>5825469</strong></li>
<li>Business Name: <strong>Hybrid Garage</strong></li>
</ul>
<p>After payment, click below to send confirmation via WhatsApp:</p>
<button class="cta-btn" id="confirmPaymentBtn">Send Confirmation via WhatsApp</button>
</div>
</section>

<!-- ================= PAYMENT ================= -->
<section id="payment" class="page hidden-section">
<h2>Payment</h2>
<p>Payment is via M-Pesa Paybill only. See cart checkout for details.</p>
</section>

<!-- ================= LOCATION ================= -->
<section id="location" class="page hidden-section">
<h2>Locations</h2>
<p><strong>Garage:</strong> Kirinyaga Road, behind Indian Mosque, Grogon Lane, Nairobi</p>
<p><strong>Spare Shop:</strong> Ngong Road, Nairobi</p>
<iframe width="100%" height="300" src="https://www.google.com/maps?q=Kirinyaga+Road+Nairobi&output=embed"></iframe>
</section>

<!-- ================= CONTACT ================= -->
<section id="contact" class="page hidden-section">
<h2>Contact</h2>
<p>Phone 1: <a href="tel:+254780328599">+254 780 328 599</a></p>
<p>Phone 2: <a href="tel:+254712345678">+254 712 345 678</a></p>
<p>Email: <a href="mailto:info@hybridgarage.co.ke">info@hybridgarage.co.ke</a></p>
<p>WhatsApp 1: <a href="https://wa.me/254780328599" target="_blank">Chat Now</a></p>
<p>WhatsApp 2: <a href="https://wa.me/254712345678" target="_blank">Chat Now</a></p>
</section>

<!-- ================= OUR LINKS / SOCIAL ================= -->
<section id="our-links" class="page hidden-section">
<h2>Our Links & Social Media</h2>
<p><a href="https://facebook.com/hybridgarage" target="_blank">Facebook</a></p>
<p><a href="https://instagram.com/hybridgarage" target="_blank">Instagram</a></p>
<p><a href="https://twitter.com/hybridgarage" target="_blank">Twitter</a></p>
</section>

<!-- ================= ADMIN MODAL ================= -->
<div class="modal hidden" id="adminModal">
<div class="modal-content">
<span class="close" id="closeAdmin">&times;</span>
<h3>Add Product</h3>
<input id="admin-name" placeholder="Name">
<input id="admin-price" type="number" placeholder="Price">
<button id="addProductBtn">Add</button>
<ul id="admin-list"></ul>
</div>
</div>

<!-- ================= FOOTER ================= -->
<footer>&copy; 2025 Hybrid Garage & Spares Shop</footer>

<!-- ================= SCRIPTS ================= -->
<script>
// ================= SPA NAVIGATION =================
const hero = document.querySelector(".hero");
const pages = document.querySelectorAll(".page");
const navLinks = document.querySelectorAll(".nav-link");

function showPage(id) {
  pages.forEach(p => { p.classList.add("hidden-section"); p.classList.remove("show"); });
  if (id === "#home") { hero.classList.remove("hidden-section"); }
  else { hero.classList.add("hidden-section"); document.querySelector(id)?.classList.remove("hidden-section"); }
  navLinks.forEach(l => l.classList.remove("active"));
  document.querySelector(`a[href="${id}"]`)?.classList.add("active");
  history.pushState(null,"",id);
}

// ================= HERO SLIDESHOW =================
const slides = document.querySelectorAll(".slide");
let s=0;
setInterval(() => {
  if (!hero.classList.contains("hidden-section")) {
    slides.forEach(sl => sl.classList.remove("active"));
    s=(s+1)%slides.length;
    slides[s].classList.add("active");
  }
},5000);

// ================= CART =================
let cart=[];
function updateCart() {
  const cartItems=document.getElementById("cart-items");
  let total=0;
  cartItems.innerHTML="";
  cart.forEach(item => { cartItems.innerHTML+=`${item.name} - KES ${item.price}<br>`; total+=item.price; });
  document.getElementById("cart-count").textContent=cart.length;
  document.getElementById("cart-total").textContent=`Total: KES ${total}`;
}

// ================= LOAD PRODUCTS =================
fetch("products.json")
.then(res=>res.json())
.then(data=>{
  const prodList=document.getElementById("product-list");
  data.forEach(p=>{
    const div=document.createElement("div");
    div.className="product";
    div.innerHTML=`<i class="fa-solid ${p.icon} product-icon"></i>
    <h3>${p.name}</h3>
    <p>${p.description}</p>
    <p>Price: KES ${p.price}</p>
    <button class="cta-btn add-to-cart-btn" data-name="${p.name}" data-price="${p.price}">Buy Now</button>`;
    prodList.appendChild(div);
  });
  document.querySelectorAll(".add-to-cart-btn").forEach(btn=>{
    btn.addEventListener("click",()=>{ cart.push({name:btn.dataset.name, price:+btn.dataset.price}); updateCart(); });
  });
});

// ================= LOAD SERVICES =================
fetch("services.json")
.then(res=>res.json())
.then(data=>{
  const servList=document.getElementById("services-list");
  data.forEach(s=>{
    const div=document.createElement("div");
    div.className="service";
    div.innerHTML=`<i class="fa-solid ${s.icon}"></i>
    <h3>${s.name}</h3>
    <p>${s.shortDescription}</p>`;
    servList.appendChild(div);
  });
});

// ================= CHECKOUT PAYBILL =================
document.getElementById("checkoutPaybill")?.addEventListener("click",()=>{
  if(cart.length===0) return alert("Cart empty!");
  document.getElementById("paybill-info").classList.remove("hidden-section");
});

// ================= WHATSAPP =================
document.getElementById("confirmPaymentBtn")?.addEventListener("click",()=>{
  if(cart.length===0) return alert("Cart empty!");
  let msg="Payment Confirmation for Order:%0A";
  let total=0;
  cart.forEach(i=>{ msg+=`${i.name} - KES ${i.price}%0A`; total+=i.price; });
  msg+=`Total Paid: KES ${total}`;
  window.open(`https://wa.me/254780328599?text=${msg}`);
});

// ================= SPA LINKS =================
document.getElementById("shopNowBtn")?.addEventListener("click",()=>showPage("#products"));
navLinks.forEach(l=>{ l.addEventListener("click",e=>{ e.preventDefault(); showPage(l.getAttribute("href")); document.querySelector("nav").classList.remove("open"); }); });

// ================= ADMIN MODAL =================
const modal=document.getElementById("adminModal");
document.getElementById("adminLoginBtn")?.addEventListener("click",()=>modal.classList.remove("hidden"));
document.getElementById("closeAdmin")?.addEventListener("click",()=>modal.classList.add("hidden"));
document.getElementById("addProductBtn")?.addEventListener("click",()=>{
  const name=document.getElementById("admin-name").value;
  const price=+document.getElementById("admin-price").value;
  if(name && price){ cart.push({name, price}); updateCart(); }
  document.getElementById("admin-name").value=""; document.getElementById("admin-price").value="";
});

// ================= MOBILE NAV =================
document.getElementById("menuToggle")?.addEventListener("click",()=>document.querySelector("nav").classList.toggle("open"));

// ================= INIT =================
showPage(location.hash||"#home");
</script>

</body>
</html>
